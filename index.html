<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Advanced POS (Local)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app" class="light">
    <aside class="sidebar">
      <div class="brand">
        <h1>POS System</h1>
        <button id="themeToggle" class="theme-btn">Dark</button>
      </div>
      <nav>
        <a href="#" data-view="dashboard" class="active">Dashboard</a>
        <a href="#" data-view="products">Products</a>
        <a href="#" data-view="inventory">Inventory</a>
        <a href="#" data-view="pos">Point of Sale</a>
        <a href="#" data-view="reports">Reports</a>
        <a href="#" data-view="settings">Settings</a>
      </nav>
      <div class="sidebar-foot">
        <small>Store: <strong id="storeName">My Store</strong></small>
      </div>
    </aside>

    <main class="main">
      <!-- DASHBOARD -->
      <section id="dashboard" class="view">
        <h2>Dashboard</h2>
        <div class="cards">
          <div class="card">
            <div class="card-title">Total Sales</div>
            <div class="card-value" id="totalSales">₹0</div>
          </div>
          <div class="card">
            <div class="card-title">Today's Orders</div>
            <div class="card-value" id="todaysOrders">0</div>
          </div>
          <div class="card">
            <div class="card-title">Products</div>
            <div class="card-value" id="productsCount">0</div>
          </div>
          <div class="card">
            <div class="card-title">Stock Value</div>
            <div class="card-value" id="stockValue">₹0</div>
          </div>
        </div>
        <div class="dashboard-body">
          <div class="left">
            <h3>Latest Products</h3>
            <ul id="latestProducts" class="list"></ul>
          </div>
          <div class="right">
            <h3>Quick POS</h3>
            <div id="quickPos"></div>
          </div>
        </div>
      </section>

      <!-- PRODUCTS -->
      <section id="products" class="view hidden">
        <h2>Products</h2>
        <div class="topbar">
          <input id="searchProduct" placeholder="Search product...">
          <button id="btnAddProduct">+ Add Product</button>
          <button id="exportCSV">Export CSV</button>
        </div>

        <div id="productForm" class="panel hidden">
          <h3 id="formTitle">Add Product</h3>
          <form id="frmProduct">
            <label> Name <input id="p_name" required></label>
            <label> Category <input id="p_cat"></label>
            <label> SKU <input id="p_sku"></label>
            <label> Cost Price <input id="p_cost" type="number" step="0.01" min="0"></label>
            <label> Sale Price <input id="p_price" type="number" step="0.01" min="0"></label>
            <label> Quantity <input id="p_qty" type="number" min="0" step="1"></label>
            <label> Image <input id="p_img" type="file" accept="image/*"></label>
            <div class="form-actions">
              <button type="submit">Save</button>
              <button type="button" id="cancelProduct">Cancel</button>
            </div>
          </form>
        </div>

        <div id="productList" class="panel">
          <table class="table">
            <thead><tr><th>#</th><th>Name</th><th>Price</th><th>Qty</th><th>Actions</th></tr></thead>
            <tbody id="tblProducts"></tbody>
          </table>
        </div>
      </section>

      <!-- INVENTORY -->
      <section id="inventory" class="view hidden">
        <h2>Inventory</h2>
        <div id="invList" class="panel"></div>
      </section>

      <!-- POS -->
      <section id="pos" class="view hidden">
        <h2>Point of Sale</h2>
        <div class="pos-wrap">
          <div class="pos-left">
            <input id="posSearch" placeholder="Search product to add...">
            <ul id="posResults" class="list"></ul>
          </div>
          <div class="pos-right">
            <table class="table">
              <thead><tr><th>Item</th><th>Qty</th><th>Price</th><th>Total</th><th></th></tr></thead>
              <tbody id="cartBody"></tbody>
            </table>
            <div class="pos-summary">
              <div>Subtotal: <span id="subtotal">₹0</span></div>
              <div>Tax (%) <input id="taxPct" type="number" value="0" min="0"></div>
              <div>Discount (%) <input id="discPct" type="number" value="0" min="0"></div>
              <div class="grand">Grand Total: <span id="grandTotal">₹0</span></div>
              <div class="pos-actions">
                <button id="btnClearCart">Clear</button>
                <button id="btnCheckout">Checkout</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- REPORTS -->
      <section id="reports" class="view hidden">
        <h2>Reports</h2>
        <div class="topbar">
          <label>From <input id="r_from" type="date"></label>
          <label>To <input id="r_to" type="date"></label>
          <button id="btnFilterReports">Filter</button>
          <button id="btnExportSalesCSV">Export Sales CSV</button>
        </div>
        <div id="reportList" class="panel"></div>
      </section>

      <!-- SETTINGS -->
      <section id="settings" class="view hidden">
        <h2>Settings</h2>
        <label> Store name <input id="inputStoreName"></label>
        <div>
          <button id="btnResetData" class="danger">Reset All Local Data</button>
        </div>
      </section>

    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
